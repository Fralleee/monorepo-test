import 'clinic'

model Patient {
  id        String   @id @default(cuid())
  name      String
  phone     String
  email     String
  clinicId  String
  clinic    Clinic   @relation(fields: [clinicId], references: [id], onDelete: Cascade)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // All authenticated users can read
  @@allow('read', auth() != null)
  // Only ADMIN can create, update, delete
  @@allow('create,update,delete', auth().role == 'ADMIN')
}
